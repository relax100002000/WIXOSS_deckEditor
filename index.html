<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<script src="js/function.js"></script>
		<script src="js/card_info.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<title>WIXOSS Deck Editor</title>
	</head>
	<style>
		.icon_img {
			height: 16px;
			border: none !important;
			border-radius: 0px !important;
			margin-top: 2px;
			margin-left: 2px;
		}
		img {
			border-style: solid;
			border-width: 1px;
			border-radius: 10px;
		}
		* {
			font-size: 16px;
		}
		button {
			height: 50px;
			background-color: white; /* Green */
			border: none;
			color: black;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 16px;
			margin: 4px 2px;
			border-style: solid;
			border-width: 1px;
			border-radius: 10px;
			cursor: pointer;
		}
		canvas {
			width: 200px !important;
			height: 200px !important;
		}
	</style>
	<body>
		<script>
			var page = 0;
			var rdeckArr = [];
			var pdeckArr = [];
			var ldeckArr = [];
			var sdeckArr = [];

			var sdeck_l1 = 0;
			var sdeck_l2 = 0;
			var sdeck_l3 = 0;
			var sdeck_spell = 0;

			var sdeck_red = 0;
			var sdeck_blue = 0;
			var sdeck_green = 0;
			var sdeck_black = 0;
			var sdeck_white = 0;
			var sdeck_nocolor = 0;

			var sdeck_burst = 0;
			var sdeck_no_burst = 0;

			$( document ).ready(function() {
				onLoading();
				showrdeck();
			});
		</script>
		<table width="1850px" height="600px">
			<tr>
				<td width="370px" height="510px">
					<img width="360px" height="504px" id="big_pic" src="img/card_back.jpg">
				</td>
				<td style="vertical-align:bottom;">
					<table>
						<tr>
							<td>
								<div id="leveldiv" hidden><canvas id="levelChart"></canvas></div>
								<script>
			  						const levelctx = document.getElementById('levelChart');

										levelobj = new Chart(levelctx, {
										type: 'doughnut',
										data: {
									  		labels: [
												'L1',
												'L2',
												'L3',
												'spell'
											],
											datasets: [{
												label: 'Type counter',
												data: [sdeck_l1, sdeck_l2, sdeck_l3, sdeck_spell],
												backgroundColor: [
												  'rgb(192, 192, 192)',
												  'rgb(169, 169, 169)',
												  'rgb(128, 128, 128)',
												  'rgb(FF, 79, 79)'
												],
												hoverOffset: 4
											}]
										},
										options: {
									        plugins: {
									            legend: {
									                display: true,
									                labels: {
									                    color: 'rgb(0, 0, 0)'
									                }
									            }
									        }
			    						}
									});
								</script>
							</td>
							<td>
								<div id="colordiv" hidden><canvas id="colorChart"></canvas></div>
								<script>
			  						const colorctx = document.getElementById('colorChart');

										colorobj = new Chart(colorctx, {
										type: 'doughnut',
										data: {
									  		labels: [
												'赤',
												'青',
												'緑',
												'黒',
												'白',
												'無'
											],
											datasets: [{
												label: 'Color Counter',
												data: [sdeck_red, sdeck_blue, sdeck_green, sdeck_black, sdeck_white, sdeck_nocolor],
												backgroundColor: [
												  'rgb(255, 99, 132)',
												  'rgb(54, 162, 235)',
												  'rgb(50, 205, 50)',
												  'rgb(138, 43, 226)',
												  'rgb(255, 205, 86)',
												  'rgb(192, 192, 192)'
												],
												hoverOffset: 4
											}]
										},
										options: {
									        plugins: {
									            legend: {
									                display: true,
									                labels: {
									                    color: 'rgb(0, 0, 0)'
									                }
									            }
									        }
			    						}
									});
								</script>
							</td>
							<td>
								<div id="lbdiv" hidden><canvas id="lbChart"></canvas></div>
								<script>
			  						const lbctx = document.getElementById('lbChart');

										lbobj = new Chart(lbctx, {
										type: 'doughnut',
										data: {
									  		labels: [
												'LB有り',
												'LB無し'
											],
											datasets: [{
												label: 'LB counter',
												data: [sdeck_burst, sdeck_no_burst],
												backgroundColor: [
												  'rgb(192, 192, 192)',
												  'rgb(128, 128, 128)'
												],
												hoverOffset: 4
											}]
										},
										options: {
									        plugins: {
									            legend: {
									                display: true,
									                labels: {
									                    color: 'rgb(0, 0, 0)'
									                }
									            }
									        }
			    						}
									});
								</script>
							</td>
						</tr>
					</table>
					<table>
						<tr>
							<td>
								LRIG
							</td>
						</tr>
						<tr>
							<td>
								<img id="ldeck_0" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,0 , ldeckArr)">
								<img id="ldeck_1" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,1 , ldeckArr)">
								<img id="ldeck_2" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,2 , ldeckArr)">
								<img id="ldeck_3" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,3 , ldeckArr)">
								<img id="ldeck_4" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,4 , ldeckArr)">
								<img id="ldeck_5" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,5 , ldeckArr)">
								<img id="ldeck_6" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,6 , ldeckArr)">
								<img id="ldeck_7" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,7 , ldeckArr)">
								<img id="ldeck_8" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,8 , ldeckArr)">
								<img id="ldeck_9" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,9 , ldeckArr)">
							</td>
						</tr>
						<tr>
							<td style="vertical-align:bottom">
								Piece
							</td>
						</tr>
						<tr>
							<td>
								<img id="pdeck_0" width="82px" height="60px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,0 , pdeckArr)">
								<img id="pdeck_1" width="82px" height="60px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,1 , pdeckArr)">
							</td>
						</tr>
					</table>
				</td>		
				<td style="vertical-align:text-top">
					<button onclick="downloadBlob('export.csv', 'text/csv;charset=utf-8;')">Download File</button>
					<input type="file" id="fileinput"></input>
					<button style="float: right" onclick="showVersion();">About</button>
					<br><br><br>
					ルリグ <input type="checkbox" id="lrig" checked>&emsp;&emsp;アシストルリグ <input type="checkbox" id="assistlrig" checked>&emsp;&emsp;ピース <input type="checkbox" id="piece" checked>&emsp;&emsp;シグニ <input type="checkbox" id="signi" checked>&emsp;&emsp;スペル <input type="checkbox" id="spell" checked>
					<br><br>
					Level 0 <input type="checkbox" id="level0" checked>&emsp;&emsp;Level 1 <input type="checkbox" id="level1" checked>&emsp;&emsp;Level 2 <input type="checkbox" id="level2" checked>&emsp;&emsp;Level 3 <input type="checkbox" id="level3" checked>
					<br><br>
					赤 <input type="checkbox" id="red" checked>&emsp;&emsp;青 <input type="checkbox" id="blue" checked>&emsp;&emsp;緑 <input type="checkbox" id="green" checked>&emsp;&emsp;黒 <input type="checkbox" id="black" checked>&emsp;&emsp;白 <input type="checkbox" id="white" checked>&emsp;&emsp;無 <input type="checkbox" id="nocolor" checked>
					<br><br>
					LB有り <input type="checkbox" id="islb" checked>&emsp;&emsp;LB無し <input type="checkbox" id="notlb" checked>
					<br><br>
					キーワード検索 <input type="text" id="textsearch" size="51">
					<br><br>
					<button onclick="search();">Search</button>&emsp;&emsp;<button onclick="checkall();">Select All</button>&emsp;&emsp;<button onclick="uncheckall();">Clear All</button>
					<br><br>
					商品檢索
					<select id="selectMode" onclick="selectProduct(this)">
						<option value="0">--Select Product Name--</option>
						<option value="WXDi-P02">[WXDi-P02] 拡張パック「CHANGING DIVA」</option>
						<option value="WXDi-P01">[WXDi-P01] 拡張パック「GLOWING DIVA」</option>
						<option value="WXDi-D06">[WXDi-D06] 構築済みデッキ「DIVA DEBUT DECK DIAGRAM」</option>
						<option value="WXDi-D05">[WXDi-D05] 構築済みデッキ「DIVA DEBUT DECK うちゅうのはじまり」</option>
						<option value="WXDi-D04">[WXDi-D04] 構築済みデッキ「DIVA DEBUT DECK Card Jockey」</option>
						<option value="WXDi-D03">[WXDi-D03] 構築済みデッキ「DIVA DEBUT DECK No Limit」</option>
						<option value="WXDi-P00">[WXDi-P00] 拡張パック「INTERLUDE DIVA」</option>
						<option value="WXDi-D02">[WXDi-D02] 構築済みデッキ「DIVA DEBUT DECK にじさんじ ver.さんばか」</option>
					    <option value="WXDi-D01">[WXDi-D01] 構築済みデッキ「ANCIENT SURPRISE」</option>
				   </select>
				</td>
			</tr>
			<tr>
				<td style="vertical-align:text-top" height="500px">
					<table id="infoTable" width="360px" border="1" style="border: solid; border-width: 1px">
					</table>
				</td>
				<td style="vertical-align:text-top">
					<table>
						<tr>
							<td>
								SIGNI
							</td>
						</tr>
						<tr>
							<td>
								<img id="sdeck_0" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,0 , sdeckArr)">
								<img id="sdeck_1" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,1 , sdeckArr)">
								<img id="sdeck_2" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,2 , sdeckArr)">
								<img id="sdeck_3" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,3 , sdeckArr)">
								<img id="sdeck_4" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,4 , sdeckArr)">
								<img id="sdeck_5" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,5 , sdeckArr)">
								<img id="sdeck_6" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,6 , sdeckArr)">
								<img id="sdeck_7" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,7 , sdeckArr)">
								<img id="sdeck_8" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,8 , sdeckArr)">
								<img id="sdeck_9" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,9 , sdeckArr)">
							</td>
						</tr>
						<tr>
							<td>
								<img id="sdeck_10" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,10 , sdeckArr)">
								<img id="sdeck_11" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,11 , sdeckArr)">
								<img id="sdeck_12" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,12 , sdeckArr)">
								<img id="sdeck_13" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,13 , sdeckArr)">
								<img id="sdeck_14" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,14 , sdeckArr)">
								<img id="sdeck_15" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,15 , sdeckArr)">
								<img id="sdeck_16" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,16 , sdeckArr)">
								<img id="sdeck_17" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,17 , sdeckArr)">
								<img id="sdeck_18" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,18 , sdeckArr)">
								<img id="sdeck_19" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,19 , sdeckArr)">
							</td>
						</tr>
						<tr>
							<td>
								<img id="sdeck_20" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,20 , sdeckArr)">
								<img id="sdeck_21" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,21 , sdeckArr)">
								<img id="sdeck_22" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,22 , sdeckArr)">
								<img id="sdeck_23" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,23 , sdeckArr)">
								<img id="sdeck_24" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,24 , sdeckArr)">
								<img id="sdeck_25" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,25 , sdeckArr)">
								<img id="sdeck_26" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,26 , sdeckArr)">
								<img id="sdeck_27" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,27 , sdeckArr)">
								<img id="sdeck_28" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,28 , sdeckArr)">
								<img id="sdeck_29" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,29 , sdeckArr)">
							</td>
						</tr>
						<tr>
							<td>
								<img id="sdeck_30" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,30 , sdeckArr)">
								<img id="sdeck_31" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,31 , sdeckArr)">
								<img id="sdeck_32" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,32 , sdeckArr)">
								<img id="sdeck_33" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,33 , sdeckArr)">
								<img id="sdeck_34" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,34 , sdeckArr)">
								<img id="sdeck_35" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,35 , sdeckArr)">
								<img id="sdeck_36" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,36 , sdeckArr)">
								<img id="sdeck_37" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,37 , sdeckArr)">
								<img id="sdeck_38" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,38 , sdeckArr)">
								<img id="sdeck_39" width="60px" height="82px" src="img/empty.jpg" onmouseover="onmouseShow(this)" onclick="delDeck(this,39 , sdeckArr)">
							</td>
						</tr>
					</table>
				</td>
				<td style="vertical-align:text-top">
					<table>
						<tr>
							<td >
								Card list
							</td>
						</tr>
						<tr>
							<table>
								<tr>
									<td rowspan="2">
										<img id="larrow" height="172px" src="img/larrow.png" onclick="if(page != 0)page--;showrdeck();">
									</td>
									<td style="height: 180px;vertical-align: bottom;">
										<img id="rdeck_0" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
										<img id="rdeck_1" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
										<img id="rdeck_2" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
										<img id="rdeck_3" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
										<img id="rdeck_4" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
									</td>
									<td rowspan="2">
										<img id="rarrow" height="172px" src="img/rarrow.png" onclick="if((page + 1) * 10 < rdeckArr.length)page++;showrdeck();">
									</td>
								</tr>
								<tr>
									<td style="height: 180px;vertical-align: bottom;">
										<img id="rdeck_5" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
										<img id="rdeck_6" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
										<img id="rdeck_7" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
										<img id="rdeck_8" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
										<img id="rdeck_9" onmouseover="onmouseShow(this)" onclick="addDeck(this)" alt="" height="172px" width="124px">
									</td>
								</tr>
							</table>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</body>
</html>